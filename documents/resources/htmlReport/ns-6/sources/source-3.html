


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > King</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">jumpking.model.game.elements</a>
</div>

<h1>Coverage Summary for Class: King (jumpking.model.game.elements)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">King</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (25/25)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    83.3%
  </span>
  <span class="absValue">
    (15/18)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (56/56)
  </span>
</td>
</tr>
  <tr>
    <td class="name">King$MockitoMock$417704966</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$1ca04rFW</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$4MRMNGD0</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$5hM22tr5</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$7aUyVuyd</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$9MQy9JKl</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$BxvzUX2R</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$C35aY0k7</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$dKOxlVzu</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$Dv5P9FCM</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$GN3FR4w6</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$hWocoKE3</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$iy19RfRV</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$kpP1OW7b</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$MsMwPsOH</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$Mu9g14Xx</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$NGpNRCct</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$nyOsD70F</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$ogUe31dJ</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$oRNVQL3Y</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$pHjc0QTQ</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$rsYiyktE</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$RZuVzxer</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$sSGqUAnt</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$SvWnsCOh</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$TofehcQ6</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$ut7L1a6L</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$VuaS868f</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$wnNJAl60</td>
  </tr>
  <tr>
    <td class="name">King$MockitoMock$417704966$auxiliary$Yljp0dZu</td>
  </tr>
  <tr>
    <td class="name">King$PlayerState</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (2/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (27/27)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    83.3%
  </span>
  <span class="absValue">
    (15/18)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (62/62)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package jumpking.model.game.elements;
&nbsp;
&nbsp;import jumpking.model.Position;
&nbsp;import jumpking.model.game.scene.Scene;
&nbsp;
&nbsp;import java.util.*;
&nbsp;
&nbsp;public class King extends Element{
&nbsp;
<b class="fc">&nbsp;    public enum PlayerState {</b>
<b class="fc">&nbsp;        IDLE,</b>
<b class="fc">&nbsp;        CROUCHING,</b>
<b class="fc">&nbsp;        JUMPING,</b>
<b class="fc">&nbsp;        FALLING,</b>
<b class="fc">&nbsp;        RUNNING,</b>
&nbsp;    }
&nbsp;
<b class="fc">&nbsp;    private Queue&lt;Position&gt; jumpPositions = new ArrayDeque&lt;&gt;();</b>
&nbsp;
&nbsp;    public Queue&lt;Position&gt; getJumpPositions() {
<b class="fc">&nbsp;        return jumpPositions;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void updateJumpPositions(int yOffset) {
<b class="fc">&nbsp;        Queue&lt;Position&gt; updatedPositions = new ArrayDeque&lt;&gt;();</b>
<b class="fc">&nbsp;        for (Position pos : jumpPositions) {</b>
<b class="fc">&nbsp;            updatedPositions.add(new Position(pos.getX(), pos.getY() + yOffset));</b>
&nbsp;        }
<b class="fc">&nbsp;        jumpPositions = updatedPositions;</b>
&nbsp;    }
&nbsp;
&nbsp;    private static final int width = 14;
&nbsp;    private static final int height = 15;
&nbsp;
&nbsp;    private Position bottomRight;
&nbsp;    private Position topLeft;
&nbsp;    private Position topRight;
&nbsp;
<b class="fc">&nbsp;    private boolean facingRight = true;</b>
&nbsp;    private Scene scene;
&nbsp;    private int jumps;
&nbsp;    private long startTime;
&nbsp;
&nbsp;    private PlayerState state;
&nbsp;
&nbsp;    public King(int x, int y) {
<b class="fc">&nbsp;        super(x, y);</b>
<b class="fc">&nbsp;        this.bottomRight = new Position(x + width, y);</b>
<b class="fc">&nbsp;        this.topLeft = new Position(x, y - height);</b>
<b class="fc">&nbsp;        this.topRight = new Position(x + width, y - height);</b>
<b class="fc">&nbsp;        this.jumps = 0;</b>
<b class="fc">&nbsp;        this.startTime = System.currentTimeMillis();</b>
<b class="fc">&nbsp;        this.state = PlayerState.IDLE;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public void setPosition(Position position) {
<b class="fc">&nbsp;        super.setPosition(position);</b>
<b class="fc">&nbsp;        this.bottomRight = new Position(position.getX() + width, position.getY());</b>
<b class="fc">&nbsp;        this.topLeft = new Position(position.getX(), position.getY() - height);</b>
<b class="fc">&nbsp;        this.topRight = new Position(position.getX() + width, position.getY() - height);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Position getBottomRight() {
<b class="fc">&nbsp;        return bottomRight;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Position getTopLeft() {
<b class="fc">&nbsp;        return topLeft;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Position getTopRight() {
<b class="fc">&nbsp;        return topRight;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getWidth() {
<b class="fc">&nbsp;        return width;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getHeight() {
<b class="fc">&nbsp;        return height;</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean isFacingRight() {
<b class="fc">&nbsp;        return facingRight;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setFacingRight(boolean facingRight) {
<b class="fc">&nbsp;        this.facingRight = facingRight;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Position moveUp() {
<b class="fc">&nbsp;        return new Position(position.getX(), position.getY() - 1);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Position moveDown() {
<b class="fc">&nbsp;        return new Position(position.getX(), position.getY() + 1);</b>
&nbsp;    }
&nbsp;
&nbsp;    public Position moveLeft() {
<b class="fc">&nbsp;        return new Position(position.getX() - 1, position.getY());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Position moveRight() {
<b class="fc">&nbsp;        return new Position(position.getX() + 1, position.getY());</b>
&nbsp;    }
&nbsp;
&nbsp;    public Scene getScene() {
<b class="fc">&nbsp;        return scene;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setScene(Scene scene) {
<b class="fc">&nbsp;        this.scene = scene;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void increaseJumps() {
<b class="fc">&nbsp;        jumps++;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setJumps(int jumps) {
<b class="fc">&nbsp;        this.jumps = jumps;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getJumps() {
<b class="fc">&nbsp;        return jumps;</b>
&nbsp;    }
&nbsp;
&nbsp;    public long getStartTime() {
<b class="fc">&nbsp;        return startTime;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setStartTime(long startTime) {
<b class="fc">&nbsp;        this.startTime = startTime;</b>
&nbsp;    }
&nbsp;
&nbsp;    public PlayerState getState() {
<b class="fc">&nbsp;        return state;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setState(PlayerState state) {
<b class="fc">&nbsp;        this.state = state;</b>
&nbsp;    }
&nbsp;
&nbsp;    public List&lt;Position&gt; projectileMotion(double height, int direction, int maxX) {
<b class="fc">&nbsp;        List&lt;Position&gt; points = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;        Position lastPosition = null;</b>
&nbsp;
&nbsp;        // Vertex of the parabola is at (maxX/2, height)
<b class="fc">&nbsp;        double h = maxX / 2.0;</b>
<b class="fc">&nbsp;        double k = height;</b>
&nbsp;
&nbsp;        // Calculate &quot;a&quot; for the parabola equation y = a * (x - h)^2 + k
<b class="fc">&nbsp;        double a = -4.0 * height / (maxX * maxX);</b>
&nbsp;
<b class="fc">&nbsp;        if (direction == 0) {</b>
&nbsp;            // Handle straight up jump
<b class="fc">&nbsp;            for (double y = 0; y &lt;= height; y += 2) {</b>
<b class="fc">&nbsp;                Position newPosition = new Position(position.getX(), position.getY() - (int) Math.round(y));</b>
<b class="fc">&nbsp;                if (lastPosition == null || Math.abs(newPosition.getY() - lastPosition.getY()) &gt;= 3) {</b>
<b class="fc">&nbsp;                    points.add(newPosition);</b>
<b class="fc">&nbsp;                    lastPosition = newPosition;</b>
&nbsp;                }
&nbsp;            }
&nbsp;        } else {
&nbsp;            // Generate points along the arc
<b class="fc">&nbsp;            for (double x = 0; x &lt;= maxX; x +=3) {</b>
<b class="fc">&nbsp;                double y = a * Math.pow(x - h, 2) + k;</b>
<b class="fc">&nbsp;                Position newPosition = new Position(position.getX() + (int) Math.round(x * direction), position.getY() - (int) Math.round(y));</b>
<b class="pc">&nbsp;                if (lastPosition == null || Math.abs(newPosition.getX() - lastPosition.getX()) &gt;= 3 || Math.abs(newPosition.getY() - lastPosition.getY()) &gt;= 3) {</b>
<b class="fc">&nbsp;                    points.add(newPosition);</b>
<b class="fc">&nbsp;                    lastPosition = newPosition;</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        return points;</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-12-23 15:50</div>
</div>
</body>
</html>
